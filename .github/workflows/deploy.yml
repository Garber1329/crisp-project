name: Build and deploy to GitHub Pages

on:
  push:
    branches: [main] # –ó–∞–ø—É—Å–∫–∞—Ç–∏ –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É –ø—É—à—ñ –≤ main

permissions:
  contents: write # –ü–æ—Ç—Ä—ñ–±–Ω–æ –¥–ª—è —Ç–æ–≥–æ, —â–æ–± –µ–∫—à–µ–Ω –º—ñ–≥ –ø—É—à–∏—Ç–∏ –≤ –≥—ñ–ª–∫—É gh-pages

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout üõéÔ∏è
        uses: actions/checkout@v4

      - name: Setup Node.js ‚öôÔ∏è
        uses: actions/setup-node@v4
        with:
          node-version: 20 # –í–∫–∞–∂—ñ—Ç—å –≤–µ—Ä—Å—ñ—é, —è–∫—É –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ
          cache: 'npm'

      - name: Install and build üîß
        run: |
          npm install
          npm run build

      - name: Deploy üöÄ
        uses: JamesIves/github-pages-deploy-action@v4
        with:
          folder: dist # –î–ª—è Vite —Ü–µ –∑–∞–∑–≤–∏—á–∞–π 'dist', –¥–ª—è Create React App ‚Äî 'build'
          branch: gh-pages # –ì—ñ–ª–∫–∞, –∫—É–¥–∏ –±—É–¥—É—Ç—å –∑–∞–ª–∏—Ç—ñ –∑—ñ–±—Ä–∞–Ω—ñ —Ñ–∞–π–ª–∏